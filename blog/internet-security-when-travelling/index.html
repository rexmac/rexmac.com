<!DOCTYPE html><!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]--><!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]--><!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]--><!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]--><head><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><title>Internet Security When Travelling - rexmac.com</title><meta name="author" content="Rex McConnell" /><meta name="description" content="Rex McConnell's place on the world-wide-web, with tutorials, notes, and ramblings on computer programming, web development, and other topics" /><meta name="viewport" content="width=device-width" /><meta property="og:title" content="Internet Security When Travelling - rexmac.com"><meta property="og:description" content="Rex McConnell's place on the world-wide-web, with tutorials, notes, and ramblings on computer programming, web development, and other topics"><link rel="stylesheet" href="/css/site.1468813101.css" /><script src="/js/libs/modernizr-2.6.2.min.js"></script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-26354182-1', 'rexmac.com');
  ga('send', 'pageview');
</script></head><body><pre id="binary-life"></pre><div role="navigation" class="navbar navbar-fixed-top"><div class="navbar-inner"><div class="container"><button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div class="profile-image-flip pull-left"><div><div class="front face"><img src="/img/profile.photo.jpg" /></div><div class="back face"><img src="/img/profile.pixel.png" /></div></div></div><!-- Everything you want hidden at 940px or less, place within here --><div class="nav-collapse collapse"><ul class="nav"><li><a href="http://rexmac.com/"><i class="fa fa-home" aria-hidden="true"></i> Home</a></li><li><a href="http://rexmac.com/about">About Me</a></li><li><a href="http://blog.rexmac.com">Blog</a></li><li><a href="http://rexmac.com/projects">Projects</a></li><li><a href="#" class="contactme">Contact</a></li></ul><ul class="nav pull-right"><li><a href="#" id="light-switch" title="Toggle lights"><i class="fa fa-adjust" aria-hidden="true"></i><span class="visuallyhidden">Toggle lights</span></a></li></ul><ul class="nav social-media pull-right"><li><a href="http://twitter.com/_rexmac" title="Follow me on Twitter"><i class="fa fa-twitter" aria-hidden="true"></i><span class="visuallyhidden">Follow me on Twitter</span></a></li><li><a href="http://google.com/+RexMcConnell" title="Follow me on Google+"><i class="fa fa-google-plus" aria-hidden="true"></i><span class="visuallyhidden">Follow me on Google+</span></a></li><li><a href="http://github.com/rexmac" title="View my projects on GitHub"><i class="fa fa-github" aria-hidden="true"></i><span class="visuallyhidden">View my project son GitHub</span></a></li><li><a href="http://stackoverflow.com/users/624093/rexmac" title="View my StackOverflow profile"><i class="fa fa-stack-overflow" aria-hidden="true"></i><span class="visuallyhidden">View my StackOverflow profile</span></a></li><li><a href="http://rexmac.com/feed" title="nom nom? View my site's RSS feed"><i class="fa fa-rss" aria-hidden="true"></i><span class="visuallyhidden">nom nom? View my site's RSS feed</span></a></li></ul></div></div></div></div><!--[if lt IE 7]><div class="browsehappy alert alert-error"><strong>Warning!</strong> You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience of this site.</div><![endif]--><div class="container wrapper"><div class="row"><div role="main" class="span8"><div class="post"><div class="page-header"><time datetime="2012-09-07T16:22:40Z"><span><span class="month">Sep</span><span class="day">07</span></span><span class="year">2012</span></time><h1>Internet Security When Travelling</h1><h5>Posted on September 07, 2012 @ 16:22 GMT in <a href="http://blog.rexmac.com/category/security">Security</a></h5><hr /></div><div class="content"><p>My wife and I plan on doing some travelling soon, and, as usual, we will be bringing along plenty of digital toys (e.g., laptop, iPad, smartphone). All of these upcoming trips are for business purposes, so we’ll need to be checking our email and accessing other online resources on-the-go. In the past, I have always avoided using WiFi hotspots in airports and hotels (or anywhere, really) as they are typically unsecured and open to prying “eyes”<sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup>. However, there have been times when I needed to check my email, do some work for a client, or even (gasp!) access my online banking while on the road. I have always been careful to ensure that HTTPS was used and changed my login credentials as soon as I was at a “safer” location (i.e., home), but there is still a lot of danger involved in doing these activities from…well, anywhere, really, but I tend to trust my home network (admittedly, more than I should), as I have taken extra precautions and thrown up some obstacles to deter common digital theives. Of course, if someone <em>really</em> wants your data, there’s not much you can do, but, as I have no known enemeies, I feel relatively safe when using my home connection. On the road, however, I feel completely helpless and vulnerable…until today.</p><p>I had the (not quite) brilliant idea of making my own <abbr title="Virtual Private Network">VPN</abbr> that I could use to route all my internet traffic through while on the road. Using a <abbr title="Virtual Private Network">VPN</abbr> means all the traffic to and from my devices will be encrypted and (more) secure. I have had access to <abbr title="Virtual Private Network">VPN</abbr>s through employers in the past, but I never used them for anything other than work as they were typically quite slow and there is no way of knowing if the employer is snooping on the traffic. I used to run a private server from my home, which would have been perfect for use as a <abbr title="Virtual Private Network">VPN</abbr>, but, in an effort to cut costs, I left it behind when I moved to Europe. There are plenty of commercial, hosted <abbr title="Virtual Private Network">VPN</abbr> products on the market, but most require a monthly fee, and like an employer-hosted <abbr title="Virtual Private Network">VPN</abbr>, I have no way of knowing if the host is snooping on the traffic. I wanted a <abbr title="Virtual Private Network">VPN</abbr> that was cheap (preferrably free), easy to setup, and also temporary. I only travel a few times a year, and when I’m at home, I have no use for the <abbr title="Virtual Private Network">VPN</abbr>, so I really only need it t be active for a few days or weeks at a time. Amazon’s cloud computing service, EC2, sounded like the perfect solution. Before leaving home, I can launch an instance and setup the <abbr title="Virtual Private Network">VPN</abbr>. While on the road, I can securely use the internet from all of my devices by tunneling through the <abbr title="Virtual Private Network">VPN</abbr>. Then, when I get home again, I can terminate the instance. Amazon currently has a very generous <a href="http://aws.amazon.com/free/">free usage tier</a>, so running the <abbr title="Virtual Private Network">VPN</abbr> should end up costing me nothing but the time it takes to launch an instance and configure my devices. Sounds excellent, let’s get started!</p><p>The first step was to create an EC2 instance. Before getting started, I did some quick googling to see if anyone else had used an EC2 instance a their personal <abbr title="Virtual Private Network">VPN</abbr>. As is the case with most of my ideas, dozens (if not hundreds) of people had already setup EC2 instances as <abbr title="Virtual Private Network">VPN</abbr>s <em>and</em> they had blogged about it. Many of them had done everything by hand, a task I was certainly prepared for, but I was hoping to automate as much of the process as possible. Luckily, I happend across <a href="https://github.com/sarfata/voodooprivacy#the-vpn">VoodooPrivacy</a>. That project contains an excellent shell script that can be used to easily setup a <abbr title="Virtual Private Network">VPN</abbr> when launching an EC2 instance. The shell script from Voodoo Privacy contains some <a href="https://github.com/sarfata/voodooprivacy/blob/master/voodoo-vpn.sh#L21">variables</a> to hold the <abbr title="Virtual Private Network">VPN</abbr> login credentials, however, I prefer to use unique <abbr title="Virtual Private Network">VPN</abbr> login credentials for each device<sup id="fnref:2"><a href="#fn:2" class="footnote">2</a></sup>, so I removed these variables and hard-coded my credentials into the script <a href="https://github.com/sarfata/voodooprivacy/blob/master/voodoo-vpn.sh#L108">where needed</a>. After, adjusting my EC2 security policy<sup id="fnref:3"><a href="#fn:3" class="footnote">3</a></sup>, I was ready to go.</p><p>I am quite comfortable with several linux distros, but I chose the default 64-bit Ubuntu instance provided by Amazon as that is my distro of choice for personal projects. I’m not going to go into detail on setting up an EC2 instance, if you need assistance, try <a href="https://google.com/search?q=setup+ec2+instance">Google</a>. The Voodoo Privacy guide suggests copying and pasting the shell script into the “User data” field, but I was able to upload it (perhaps that is a new feature). After launching the instance (and attaching an elastic IP to it), I began configuring my devices to use the <abbr title="Virtual Private Network">VPN</abbr>. I had no issues configuring our MacBook Pros (MBP3.1 w/ OSX 10.7.4 and MBP5.1 w/ OSX 10.6.8) or my Samsung Galaxy Nexus (which is running JellyBean v4.1.1). However, I ran into trouble when trying to configure my Windows 7 laptop and my wife’s Samsung Galaxy S2 (which is running <abbr title="Ice Cream Sandwhich (Goolge Android OS v4.0.x)">ICS</abbr> v4.0.3). The issue with my Windows 7 machine turned out to be a PEBKAC error. I’m still not 100% sure how I resolved it, but I think it had something to do with unchecking “Use Windows logon domain”. The issue with the Galaxy S2 was not so easy. Apparently, there is a <a href="code.google.com/p/android/issues/detail?id=23124">bug in the ipsec-tools</a> implementation within Android <abbr title="Ice Cream Sandwhich (Goolge Android OS v4.0.x)">ICS</abbr>. I am still looking for a fix. </p><p>Edit: I have <a href="http://blog.rexmac.com/openswan-patch-for-android-ics-bug">found a solution</a> to the Galaxy S2 problem.</p><div class="footnotes"><ol><li id="fn:1"><p>I never, ever, ever (ever!) trust or use a public computer such as in an internet cafe or a hotel business center to do anything other than general browsing. The computer may have a wired connection and the owner may swear it is secure, but I have no way of knowing for sure. Where does the wire go once it’s in the wall? Who may be tapped into it? What malicious software has been installed on the machine or the loca network? The list goes on. <a href="#fnref:1" class="reversefootnote">&#8617;</a></p></li><li id="fn:2"><p>Using unique login credentials for each device allows me to easily remove the credentials for that device should it ever be lost or stolen, without effecting the other devices. In other words, if a device is lost or stolen and I used the same login credentials for every device, then I would have to change the credentials on the server and every device. That’s a lot of work! =\ <a href="#fnref:2" class="reversefootnote">&#8617;</a></p></li><li id="fn:3"><p>The Voodoo Privacy guide incorrectly states that port 450 needs to be opened to UDP traffic. AFAIK, it should actually be port 500. <a href="#fnref:3" class="reversefootnote">&#8617;</a></p></li></ol></div></div><hr /><div class="tags">Tagged with <div class="tags-list"><a href="http://blog.rexmac.com/tag/travel"><span class="label">travel</span></a><a href="http://blog.rexmac.com/tag/security"><span class="label">security</span></a><a href="http://blog.rexmac.com/tag/vpn"><span class="label">vpn</span></a><a href="http://blog.rexmac.com/tag/ec2"><span class="label">ec2</span></a><a href="http://blog.rexmac.com/tag/aws"><span class="label">aws</span></a></div></div><div class="next-prev-nav">    &laquo;&nbsp;<a href="/blog/jekyll-power" rel="previous" title="Jekyll Power">Jekyll Power</a> |  <a href="/blog/openswan-patch-for-android-ics-bug" rel="next" title="Openswan Patch for Android ICS Bug">Openswan Patch for Android ICS Bug</a>&nbsp;&raquo; </div></div></div><div id="sidebar" class="span4"><div class="sidebar-inner"><div class="sidebar-module latest-posts"><h3><i class="fa fa-clock-o"></i><span>Latest Posts</span></h3><h4><a href="/blog/fun-with-css3-backgrounds">Fun with CSS3 Backgrounds</a></h4><h6>April 04, 2013 @ 13:22 GMT</h6><h4><a href="/blog/virtualbox-host-only-adater-for-ubuntu-vm">VirtualBox Host-only Adater for Ubuntu VM</a></h4><h6>February 25, 2013 @ 13:17 GMT</h6><h4><a href="/blog/openswan-patch-for-android-ics-bug">Openswan Patch for Android ICS Bug</a></h4><h6>September 07, 2012 @ 16:22 GMT</h6><h4><a href="/blog/internet-security-when-travelling">Internet Security When Travelling</a></h4><h6>September 07, 2012 @ 16:22 GMT</h6><h4><a href="/blog/jekyll-power">Jekyll Power</a></h4><h6>September 01, 2012 @ 12:03 GMT</h6></div><div class="sidebar-module tag-cloud"><h3><i class="fa fa-tags"></i><span>Tag Cloud</span></h3><div class="tag-cloud-tags"><span style="font-size: 75%"><a href="http://blog.rexmac.com/tag/amazon/" title="1 post">amazon</a></span>&nbsp; <span style="font-size: 280%"><a href="http://blog.rexmac.com/tag/aws/" title="2 posts">aws</a></span>&nbsp; <span style="font-size: 75%"><a href="http://blog.rexmac.com/tag/background/" title="1 post">background</a></span>&nbsp; <span style="font-size: 75%"><a href="http://blog.rexmac.com/tag/bootstrap/" title="1 post">bootstrap</a></span>&nbsp; <span style="font-size: 75%"><a href="http://blog.rexmac.com/tag/css/" title="1 post">css</a></span>&nbsp; <span style="font-size: 75%"><a href="http://blog.rexmac.com/tag/css3/" title="1 post">css3</a></span>&nbsp; <span style="font-size: 280%"><a href="http://blog.rexmac.com/tag/ec2/" title="2 posts">ec2</a></span>&nbsp; <span style="font-size: 75%"><a href="http://blog.rexmac.com/tag/gradient/" title="1 post">gradient</a></span>&nbsp; <span style="font-size: 75%"><a href="http://blog.rexmac.com/tag/jekyll/" title="1 post">jekyll</a></span>&nbsp; <span style="font-size: 75%"><a href="http://blog.rexmac.com/tag/mturk/" title="1 post">mturk</a></span>&nbsp; <span style="font-size: 75%"><a href="http://blog.rexmac.com/tag/networking/" title="1 post">networking</a></span>&nbsp; <span style="font-size: 75%"><a href="http://blog.rexmac.com/tag/qualtrics/" title="1 post">qualtrics</a></span>&nbsp; <span style="font-size: 75%"><a href="http://blog.rexmac.com/tag/ruby/" title="1 post">ruby</a></span>&nbsp; <span style="font-size: 280%"><a href="http://blog.rexmac.com/tag/security/" title="2 posts">security</a></span>&nbsp; <span style="font-size: 75%"><a href="http://blog.rexmac.com/tag/travel/" title="1 post">travel</a></span>&nbsp; <span style="font-size: 75%"><a href="http://blog.rexmac.com/tag/ubuntu/" title="1 post">ubuntu</a></span>&nbsp; <span style="font-size: 75%"><a href="http://blog.rexmac.com/tag/virtualbox/" title="1 post">virtualbox</a></span>&nbsp; <span style="font-size: 75%"><a href="http://blog.rexmac.com/tag/vm/" title="1 post">vm</a></span>&nbsp; <span style="font-size: 280%"><a href="http://blog.rexmac.com/tag/vpn/" title="2 posts">vpn</a></span>&nbsp; </div></div><div class="sidebar-module categories"><h3><i class="fa fa-list"></i><span>Categories</span></h3><a href="http://blog.rexmac.com/category/projects"><strong>projects</strong></a> (1)<br /><a href="http://blog.rexmac.com/category/lyfebites"><strong>lyfebites</strong></a> (2)<br /><a href="http://blog.rexmac.com/category/security"><strong>security</strong></a> (2)<br /><a href="http://blog.rexmac.com/category/web-development"><strong>web development</strong></a> (1)<br /></div><div class="sidebar-module archives"><h3><i class="fa fa-briefcase"></i><span>Archives</span></h3><a href="http://blog.rexmac.com/2013/04"><strong>April 2013</strong></a> (1)<br /><a href="http://blog.rexmac.com/2013/02"><strong>February 2013</strong></a> (1)<br /><a href="http://blog.rexmac.com/2012/09"><strong>September 2012</strong></a> (3)<br /><a href="http://blog.rexmac.com/2011/05"><strong>May 2011</strong></a> (1)<br /></div></div></div></div><footer><div class="row"><div class="span8"><p>© 2016 Rex McConnell. Please read <a href="http://rexmac.com/license">the license page</a> for details about the licensing of this website’s content.</p><p>Site created by <a href="http://rexmac.com/">rexmac</a> and powered by <a href="http://jekyllrb.com/">Jekyll</a>, <a href="http://twitter.github.com/bootstrap/">Bootstrap</a>, and <a href="http://html5boilerplate.com/">H5BP</a>. Icons courtesy of <a href="http://fortawesome.github.com/Font-Awesome/">FontAwesome</a> by Dave Gandy. Social media badges courtesy of <a href="http://simekonelove.deviantart.com/#/d45qg9a">SimekOneLove</a>.</p><p>This site is proudly hosted on <a href="http://www.site5.com/in.php?id=23116">Site5</a> because they share their midi-chlorians.</p></div><div class="span4"><ul class="social-media-links"><li><a class="ir twitter" href="http://twitter.com/_rexmac" title="Follow me on Twitter">Follow me on Twitter</a></li><li><a class="ir gplus" href="http://google.com/+RexMcConnell" title="Follow me on Google+">Follow me on Google+</a></li><li><a class="ir github" href="http://github.com/" title="View my projects on Github">View my projects on GitHub</a></li><li><a class="ir stackoverflow" href="http://stackoverflow.com/users/624093/rexmac" title="View my StackOverflow profile">View my StackOverflow profile</a></li><li><a class="ir rss" href="http://rexmac.com/feed" title="nom nom?">RSS Feed</a></li></ul><a class="html5-logo pull-right" href="http://www.w3.org/html/logo/"><img src="http://www.w3.org/html/logo/badge/html5-badge-h-css3-graphics-semantics.png" width="197" height="64" alt="HTML5 Powered with CSS3 / Styling, Graphics, 3D &amp; Effects, and Semantics" title="HTML5 Powered with CSS3 / Styling, Graphics, 3D &amp; Effects, and Semantics" /></a></div></div></footer><p><a id="glider-tag-container" href="javascript:;" title="Pause life"><span id="glider-tag"><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span></span></a></p></div><script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script><script>window.jQuery || document.write('<script src="/js/libs/jquery-1.9.0.min.js"><\/script>')</script><script src="/js/site.min.1468813101.js "></script><!-- Whatchya lookin' at Willis?! --></body></html>